<!DOCTYPE html>
<html>
    <head>
        <title>PAZZA!</title>
        <link rel="icon" type="image/x-icon" href="/images/pizza_stars.ico" sizes="32x32">
        <link rel="stylesheet" type="text/css" href="css/core.css">
        <link rel="stylesheet" type="text/css" href="css/menu.css">
        <link rel="stylesheet" type="text/css" href="css/login.css">
        <link rel="stylesheet" type="text/css" href="css/signup.css">
        <link rel="stylesheet" type="text/css" href="css/characterMenu.css">
        <link rel="stylesheet" type="text/css" href="css/typeography.css">
        <style>
            /* Styling needed for a fullscreen canvas and no scrollbars. */
            body, html { 
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
            }
            
            #starfield {
                width:100%;
                height:100%;
                z-index: -1;
                position: absolute;
                left: 0px;
                top: 0px;
            }
            #gamecontainer {
                width: 800px;
                margin-left: auto;
                margin-right: auto;
            }
            #gamecanvas { 
                width: 800px;
                height: 600px;
            }
            #info {
                width: 800px;
                margin-left: auto;
                margin-right: auto;
            }
        </style>
    </head>
            
    <body>
        <div class="mainContainer"></div>
        <div id="Menu">
            <img src="images/logo.png" alt="Image" height="300" width="300">
            <ul class="Menu-list" data-offset="10">
                <li class="Menu-list-item" data-offset="20" onclick="setVisibility('Menu', 'none');setVisibility('signup', 'block');">
                    Sign up
                    <span class="Mask"><span>Sign up</span></span>
                    <span class="Mask"><span>Sign up</span></span>
                </li>
                <li class="Menu-list-item" data-offset="16" onclick="setVisibility('Menu', 'none');setVisibility('login', 'block');">
                    Login
                    <span class="Mask"><span>Login</span></span>
                    <span class="Mask"><span>Login</span></span>
                </li>
                <li class="Menu-list-item" data-offset="12" onclick>
                    About
                    <span class="Mask"><span>About</span></span>
                    <span class="Mask"><span>About</span></span>
                </li>
            </ul>
        </div>
        <div id="signup">
            <form class="form" autocomplete="off">
                <div class="control block-cube block-input">
                  <input id="susername" name="username" type="text" placeholder="Username" /><div class="bg-top">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg-right">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg">
                    <div class="bg-inner"></div>
                  </div>
                </div>
                <div class="control block-cube block-input">
                  <input id="password" name="password" type="password" placeholder="Password"/><div class="bg-top">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg-right">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg">
                    <div class="bg-inner"></div>
                  </div>
                </div>
                <div class="control block-cube block-input">
                    <input id="repassword" name="repassword" type="password" placeholder="Verify Password"/><div class="bg-top">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg-right">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg">
                      <div class="bg-inner"></div>
                    </div>
                  </div>
                  <div class="control block-cube block-input">
                    <input id="firstName" name="firstName" type="text" placeholder="First Name"/><div class="bg-top">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg-right">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg">
                      <div class="bg-inner"></div>
                    </div>
                  </div>
                  <div class="control block-cube block-input">
                    <input id="lastName" name="lastName" type="text" placeholder="Last Name"/><div class="bg-top">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg-right">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg">
                      <div class="bg-inner"></div>
                    </div>
                  </div>
                  <div class="control block-cube block-input">
                    <input id="email" name="email" type="text" placeholder="Email"/><div class="bg-top">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg-right">
                      <div class="bg-inner"></div>
                    </div>
                    <div class="bg">
                      <div class="bg-inner"></div>
                    </div>
                  </div>
                  <form class = "container">
                    <label >Birthday:</label>
                    <SELECT id ="year" name = "yyyy" onchange="change_year(this)">
                    </SELECT>
                    <SELECT  id ="month" name = "mm" onchange="change_month(this)">
                    </SELECT>
                    <SELECT id ="day" name = "dd" >
                    </SELECT>
                </form>                
                <button id="signup-btn" type="submit" class="sign up btn block-cube block-cube-hover">
                  <div class="bg-top">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg-right">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="text">
                    Sign Up
                  </div></button></form>
        </div>
        <div id="login">
            <form class="form" autocomplete="off">
                <div class="control block-cube block-input">
                  <input id="username" name="username" type="text" placeholder="Username" /><div class="bg-top">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg-right">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg">
                    <div class="bg-inner"></div>
                  </div>
                </div>
                <div class="control block-cube block-input">
                  <input id="lpassword" name="password" type="password" placeholder="Password"/><div class="bg-top">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg-right">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg">
                    <div class="bg-inner"></div>
                  </div>
                </div>
                <button id="login-btn" type="button" onclick="onLogin()" class="btn block-cube block-cube-hover" >
                  <div class="bg-top">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg-right">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="bg">
                    <div class="bg-inner"></div>
                  </div>
                  <div class="text">
                    Log In
                  </div></button></form>
        </div>

        <audio autoplay loop>
            <source src="sounds/TarantellaNapolitana.wav" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <div id="starfield"></div>
        <div id="gamecontainer">
            <canvas id="gameCanvas">
            </canvas>
        </div>
        <!-- <div id="info">
            <p>Move with arrow keys or swipe, fire with the space bar or touch. The invaders get faster and drop
                more bombs as you complete each level!</p>
                <p><a id="muteLink" href="#" onclick="toggleMute()">mute</a></p>
        </div> -->
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="js/Sounds.js"></script>
    <script src="js/characterMenu.js"></script>
    <script src="js/GameOverState.js"></script>
    <script src="js/LevelIntroState.js"></script>
    <script src="js/PauseState.js"></script>
    <script src="js/PlayState.js"></script>
    <script src="js/WelcomeState.js"></script>
    <script src="js/starfield.js"></script>
    <script src="js/signup.js"></script>
    <script src="js/spaceinvaders.js"></script>
    <script src="js/Game.js"></script>
    <script src="js/login.js"></script>
    <script>
        // var audio = document.getElementById("backgroundAudio");
        // audio.volume = 0.6;

        const setVisibility = (divId, display) => {
            const element = document.getElementById(divId);
            element.style.display = display;
        }        
        

        //  Create the starfield.
        var container = document.getElementById('starfield');
        var starfield = new Starfield();
        starfield.initialise(container);
        starfield.start();
        
        //  Setup the canvas.
        var canvas = document.getElementById("gameCanvas");
        canvas.width = 800;
        canvas.height = 600;

        //  Create the game.
        var game = new Game();

        //  Initialise it with the game canvas.
        game.initialise(canvas);

        //  Start the game.
        game.start();

        //  Listen for keyboard events.
        window.addEventListener("keydown", function keydown(e) {
            var keycode = e.which || window.event.keycode;
            //  Supress further processing of left/right/space (37/39/32)
            if(keycode == 37 || keycode == 39 || keycode == 32) {
                e.preventDefault();
            }
            game.keyDown(keycode);

        });
        window.addEventListener("keyup", function keydown(e) {
            var keycode = e.which || window.event.keycode;
            game.keyUp(keycode);
        });

        window.addEventListener("touchstart", function (e) {
            game.touchstart(e);
        }, false);

        window.addEventListener('touchend', function(e){
            game.touchend(e);
        }, false);

        window.addEventListener('touchmove', function(e){
            game.touchmove(e);
        }, false);

        function toggleMute() {
            game.mute();
            document.getElementById("muteLink").innerText = game.sounds.mute ? "unmute" : "mute";
        }
    </script>
</html>